<?php
function html() { return 'foo'; } class Twig_Tests_IntegrationTest extends Twig_Test_IntegrationTestCase { public function getExtensions() { $sp16554e = new Twig_Sandbox_SecurityPolicy(array(), array(), array(), array(), array()); return array(new Twig_Extension_Debug(), new Twig_Extension_Sandbox($sp16554e, false), new Twig_Extension_StringLoader(), new TwigTestExtension()); } public function getFixturesDir() { return dirname(__FILE__) . '/Fixtures/'; } } function test_foo($spbb4d96 = 'foo') { return $spbb4d96; } class TwigTestFoo implements Iterator { const BAR_NAME = 'bar'; public $position = 0; public $array = array(1, 2); public function bar($spe7b02b = null, $sp3e1629 = null) { return 'bar' . ($spe7b02b ? '_' . $spe7b02b : '') . ($sp3e1629 ? '-' . $sp3e1629 : ''); } public function getFoo() { return 'foo'; } public function getSelf() { return $this; } public function is() { return 'is'; } public function in() { return 'in'; } public function not() { return 'not'; } public function strToLower($spbb4d96) { return strtolower($spbb4d96); } public function rewind() { $this->position = 0; } public function current() { return $this->array[$this->position]; } public function key() { return 'a'; } public function next() { ++$this->position; } public function valid() { return isset($this->array[$this->position]); } } class TwigTestTokenParser_§ extends Twig_TokenParser { public function parse(Twig_Token $sp650e38) { $this->parser->getStream()->expect(Twig_Token::BLOCK_END_TYPE); return new Twig_Node_Print(new Twig_Node_Expression_Constant('§', -1), -1); } public function getTag() { return '§'; } } class TwigTestExtension extends Twig_Extension { public function getTokenParsers() { return array(new TwigTestTokenParser_§()); } public function getFilters() { return array(new Twig_SimpleFilter('§', array($this, '§Filter')), new Twig_SimpleFilter('escape_and_nl2br', array($this, 'escape_and_nl2br'), array('needs_environment' => true, 'is_safe' => array('html'))), new Twig_SimpleFilter('nl2br', array($this, 'nl2br'), array('pre_escape' => 'html', 'is_safe' => array('html'))), new Twig_SimpleFilter('escape_something', array($this, 'escape_something'), array('is_safe' => array('something'))), new Twig_SimpleFilter('preserves_safety', array($this, 'preserves_safety'), array('preserves_safety' => array('html'))), new Twig_SimpleFilter('*_path', array($this, 'dynamic_path')), new Twig_SimpleFilter('*_foo_*_bar', array($this, 'dynamic_foo'))); } public function getFunctions() { return array(new Twig_SimpleFunction('§', array($this, '§Function')), new Twig_SimpleFunction('safe_br', array($this, 'br'), array('is_safe' => array('html'))), new Twig_SimpleFunction('unsafe_br', array($this, 'br')), new Twig_SimpleFunction('*_path', array($this, 'dynamic_path')), new Twig_SimpleFunction('*_foo_*_bar', array($this, 'dynamic_foo'))); } public function getTests() { return array(new Twig_SimpleTest('multi word', array($this, 'is_multi_word'))); } public function §Filter($spbb4d96) { return "§{$spbb4d96}§"; } public function §Function($spbb4d96) { return "§{$spbb4d96}§"; } public function escape_and_nl2br($spf4b92b, $spbb4d96, $sp4840ec = '<br />') { return $this->nl2br(twig_escape_filter($spf4b92b, $spbb4d96, 'html'), $sp4840ec); } public function nl2br($spbb4d96, $sp4840ec = '<br />') { return str_replace('
', "{$sp4840ec}\n", $spbb4d96); } public function dynamic_path($sp72caa4, $spb437e7) { return $sp72caa4 . '/' . $spb437e7; } public function dynamic_foo($spc671af, $sp91dd85, $spb437e7) { return $spc671af . '/' . $sp91dd85 . '/' . $spb437e7; } public function escape_something($spbb4d96) { return strtoupper($spbb4d96); } public function preserves_safety($spbb4d96) { return strtoupper($spbb4d96); } public function br() { return '<br />'; } public function is_multi_word($spbb4d96) { return false !== strpos($spbb4d96, ' '); } public function getName() { return 'integration_test'; } }