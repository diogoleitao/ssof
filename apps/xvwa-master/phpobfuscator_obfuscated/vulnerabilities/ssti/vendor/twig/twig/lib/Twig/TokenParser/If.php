<?php
class Twig_TokenParser_If extends Twig_TokenParser { public function parse(Twig_Token $sp650e38) { $sp1f599c = $sp650e38->getLine(); $sp005e3e = $this->parser->getExpressionParser()->parseExpression(); $sp8ec2ac = $this->parser->getStream(); $sp8ec2ac->expect(Twig_Token::BLOCK_END_TYPE); $sp1965de = $this->parser->subparse(array($this, 'decideIfFork')); $sp754928 = array($sp005e3e, $sp1965de); $sp4fa8a7 = null; $spd2690d = false; while (!$spd2690d) { switch ($sp8ec2ac->next()->getValue()) { case 'else': $sp8ec2ac->expect(Twig_Token::BLOCK_END_TYPE); $sp4fa8a7 = $this->parser->subparse(array($this, 'decideIfEnd')); break; case 'elseif': $sp005e3e = $this->parser->getExpressionParser()->parseExpression(); $sp8ec2ac->expect(Twig_Token::BLOCK_END_TYPE); $sp1965de = $this->parser->subparse(array($this, 'decideIfFork')); $sp754928[] = $sp005e3e; $sp754928[] = $sp1965de; break; case 'endif': $spd2690d = true; break; default: throw new Twig_Error_Syntax(sprintf('Unexpected end of template. Twig was looking for the following tags "else", "elseif", or "endif" to close the "if" block started at line %d)', $sp1f599c), $sp8ec2ac->getCurrent()->getLine(), $sp8ec2ac->getFilename()); } } $sp8ec2ac->expect(Twig_Token::BLOCK_END_TYPE); return new Twig_Node_If(new Twig_Node($sp754928), $sp4fa8a7, $sp1f599c, $this->getTag()); } public function decideIfFork(Twig_Token $sp650e38) { return $sp650e38->test(array('elseif', 'else', 'endif')); } public function decideIfEnd(Twig_Token $sp650e38) { return $sp650e38->test(array('endif')); } public function getTag() { return 'if'; } }