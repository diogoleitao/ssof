<?php
class Twig_Loader_Chain implements Twig_LoaderInterface, Twig_ExistsLoaderInterface { private $hasSourceCache = array(); protected $loaders = array(); public function __construct(array $spcfea9b = array()) { foreach ($spcfea9b as $spdfb5a9) { $this->addLoader($spdfb5a9); } } public function addLoader(Twig_LoaderInterface $spdfb5a9) { $this->loaders[] = $spdfb5a9; $this->hasSourceCache = array(); } public function getSource($sp3eec35) { $sp93b14f = array(); foreach ($this->loaders as $spdfb5a9) { if ($spdfb5a9 instanceof Twig_ExistsLoaderInterface && !$spdfb5a9->exists($sp3eec35)) { continue; } try { return $spdfb5a9->getSource($sp3eec35); } catch (Twig_Error_Loader $spbcee8e) { $sp93b14f[] = $spbcee8e->getMessage(); } } throw new Twig_Error_Loader(sprintf('Template "%s" is not defined (%s).', $sp3eec35, implode(', ', $sp93b14f))); } public function exists($sp3eec35) { $sp3eec35 = (string) $sp3eec35; if (isset($this->hasSourceCache[$sp3eec35])) { return $this->hasSourceCache[$sp3eec35]; } foreach ($this->loaders as $spdfb5a9) { if ($spdfb5a9 instanceof Twig_ExistsLoaderInterface) { if ($spdfb5a9->exists($sp3eec35)) { return $this->hasSourceCache[$sp3eec35] = true; } continue; } try { $spdfb5a9->getSource($sp3eec35); return $this->hasSourceCache[$sp3eec35] = true; } catch (Twig_Error_Loader $spbcee8e) { } } return $this->hasSourceCache[$sp3eec35] = false; } public function getCacheKey($sp3eec35) { $sp93b14f = array(); foreach ($this->loaders as $spdfb5a9) { if ($spdfb5a9 instanceof Twig_ExistsLoaderInterface && !$spdfb5a9->exists($sp3eec35)) { continue; } try { return $spdfb5a9->getCacheKey($sp3eec35); } catch (Twig_Error_Loader $spbcee8e) { $sp93b14f[] = get_class($spdfb5a9) . ': ' . $spbcee8e->getMessage(); } } throw new Twig_Error_Loader(sprintf('Template "%s" is not defined (%s).', $sp3eec35, implode(' ', $sp93b14f))); } public function isFresh($sp3eec35, $sp37e15f) { $sp93b14f = array(); foreach ($this->loaders as $spdfb5a9) { if ($spdfb5a9 instanceof Twig_ExistsLoaderInterface && !$spdfb5a9->exists($sp3eec35)) { continue; } try { return $spdfb5a9->isFresh($sp3eec35, $sp37e15f); } catch (Twig_Error_Loader $spbcee8e) { $sp93b14f[] = get_class($spdfb5a9) . ': ' . $spbcee8e->getMessage(); } } throw new Twig_Error_Loader(sprintf('Template "%s" is not defined (%s).', $sp3eec35, implode(' ', $sp93b14f))); } }