<?php
class Twig_TokenParserBroker implements Twig_TokenParserBrokerInterface { protected $parser; protected $parsers = array(); protected $brokers = array(); public function __construct($sp5fe41c = array(), $sp1b3127 = array()) { foreach ($sp5fe41c as $sp284ef6) { if (!$sp284ef6 instanceof Twig_TokenParserInterface) { throw new LogicException('$parsers must a an array of Twig_TokenParserInterface'); } $this->parsers[$sp284ef6->getTag()] = $sp284ef6; } foreach ($sp1b3127 as $sp0ac8ea) { if (!$sp0ac8ea instanceof Twig_TokenParserBrokerInterface) { throw new LogicException('$brokers must a an array of Twig_TokenParserBrokerInterface'); } $this->brokers[] = $sp0ac8ea; } } public function addTokenParser(Twig_TokenParserInterface $sp284ef6) { $this->parsers[$sp284ef6->getTag()] = $sp284ef6; } public function removeTokenParser(Twig_TokenParserInterface $sp284ef6) { $sp3eec35 = $sp284ef6->getTag(); if (isset($this->parsers[$sp3eec35]) && $sp284ef6 === $this->parsers[$sp3eec35]) { unset($this->parsers[$sp3eec35]); } } public function addTokenParserBroker(Twig_TokenParserBroker $sp0ac8ea) { $this->brokers[] = $sp0ac8ea; } public function removeTokenParserBroker(Twig_TokenParserBroker $sp0ac8ea) { if (false !== ($spd8e1fc = array_search($sp0ac8ea, $this->brokers))) { unset($this->brokers[$spd8e1fc]); } } public function getTokenParser($sp836199) { if (isset($this->parsers[$sp836199])) { return $this->parsers[$sp836199]; } $sp0ac8ea = end($this->brokers); while (false !== $sp0ac8ea) { $sp284ef6 = $sp0ac8ea->getTokenParser($sp836199); if (null !== $sp284ef6) { return $sp284ef6; } $sp0ac8ea = prev($this->brokers); } } public function getParsers() { return $this->parsers; } public function getParser() { return $this->parser; } public function setParser(Twig_ParserInterface $sp284ef6) { $this->parser = $sp284ef6; foreach ($this->parsers as $sp28746b) { $sp28746b->setParser($sp284ef6); } foreach ($this->brokers as $sp0ac8ea) { $sp0ac8ea->setParser($sp284ef6); } } }