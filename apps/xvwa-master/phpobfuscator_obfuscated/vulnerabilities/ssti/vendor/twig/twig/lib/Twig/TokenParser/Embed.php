<?php
class Twig_TokenParser_Embed extends Twig_TokenParser_Include { public function parse(Twig_Token $sp650e38) { $sp8ec2ac = $this->parser->getStream(); $sped512c = $this->parser->getExpressionParser()->parseExpression(); list($sp3186fb, $sp8b7751, $spb97f33) = $this->parseArguments(); $sp8ec2ac->injectTokens(array(new Twig_Token(Twig_Token::BLOCK_START_TYPE, '', $sp650e38->getLine()), new Twig_Token(Twig_Token::NAME_TYPE, 'extends', $sp650e38->getLine()), new Twig_Token(Twig_Token::STRING_TYPE, '__parent__', $sp650e38->getLine()), new Twig_Token(Twig_Token::BLOCK_END_TYPE, '', $sp650e38->getLine()))); $spb63224 = $this->parser->parse($sp8ec2ac, array($this, 'decideBlockEnd'), true); $spb63224->setNode('parent', $sped512c); $this->parser->embedTemplate($spb63224); $sp8ec2ac->expect(Twig_Token::BLOCK_END_TYPE); return new Twig_Node_Embed($spb63224->getAttribute('filename'), $spb63224->getAttribute('index'), $sp3186fb, $sp8b7751, $spb97f33, $sp650e38->getLine(), $this->getTag()); } public function decideBlockEnd(Twig_Token $sp650e38) { return $sp650e38->test('endembed'); } public function getTag() { return 'embed'; } }