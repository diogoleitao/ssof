<?php
class Twig_Tests_CompilerTest extends PHPUnit_Framework_TestCase { public function testReprNumericValueWithLocale() { $spa1c015 = new Twig_Compiler(new Twig_Environment()); $sp4ffd75 = setlocale(LC_NUMERIC, 0); if (false === $sp4ffd75) { $this->markTestSkipped('Your platform does not support locales.'); } $spc47844 = array('fr_FR.UTF-8', 'fr_FR.UTF8', 'fr_FR.utf-8', 'fr_FR.utf8', 'French_France.1252'); if (false === setlocale(LC_NUMERIC, $spc47844)) { $this->markTestSkipped('Could not set any of required locales: ' . implode(', ', $spc47844)); } $this->assertEquals('1.2', $spa1c015->repr(1.2)->getSource()); $this->assertContains('fr', strtolower(setlocale(LC_NUMERIC, 0))); setlocale(LC_NUMERIC, $sp4ffd75); } }