<?php
class Twig_Profiler_Dumper_Text { private $root; public function dump(Twig_Profiler_Profile $sp6e7f73) { return $this->spfda320($sp6e7f73); } protected function formatTemplate(Twig_Profiler_Profile $sp6e7f73, $sp754d6b) { return sprintf('%s└ %s', $sp754d6b, $sp6e7f73->getTemplate()); } protected function formatNonTemplate(Twig_Profiler_Profile $sp6e7f73, $sp754d6b) { return sprintf('%s└ %s::%s(%s)', $sp754d6b, $sp6e7f73->getTemplate(), $sp6e7f73->getType(), $sp6e7f73->getName()); } protected function formatTime(Twig_Profiler_Profile $sp6e7f73, $sp98286e) { return sprintf('%.2fms/%.0f%%', $sp6e7f73->getDuration() * 1000, $sp98286e); } private function spfda320(Twig_Profiler_Profile $sp6e7f73, $sp754d6b = '', $sp9520a5 = false) { if ($sp6e7f73->isRoot()) { $this->root = $sp6e7f73->getDuration(); $sp321dc3 = $sp6e7f73->getName(); } else { if ($sp6e7f73->isTemplate()) { $sp321dc3 = $this->formatTemplate($sp6e7f73, $sp754d6b); } else { $sp321dc3 = $this->formatNonTemplate($sp6e7f73, $sp754d6b); } $sp754d6b .= $sp9520a5 ? '│ ' : '  '; } $sp98286e = $this->root ? $sp6e7f73->getDuration() / $this->root * 100 : 0; if ($sp6e7f73->getDuration() * 1000 < 1) { $sp79fd89 = $sp321dc3 . '
'; } else { $sp79fd89 = sprintf('%s %s
', $sp321dc3, $this->formatTime($sp6e7f73, $sp98286e)); } $sp5a761f = count($sp6e7f73->getProfiles()); foreach ($sp6e7f73 as $spc83c7f => $spbcfac7) { $sp79fd89 .= $this->spfda320($spbcfac7, $sp754d6b, $spc83c7f + 1 !== $sp5a761f); } return $sp79fd89; } }