<?php
class Twig_TokenParser_Extends extends Twig_TokenParser { public function parse(Twig_Token $sp650e38) { if (!$this->parser->isMainScope()) { throw new Twig_Error_Syntax('Cannot extend from a block', $sp650e38->getLine(), $this->parser->getFilename()); } if (null !== $this->parser->getParent()) { throw new Twig_Error_Syntax('Multiple extends tags are forbidden', $sp650e38->getLine(), $this->parser->getFilename()); } $this->parser->setParent($this->parser->getExpressionParser()->parseExpression()); $this->parser->getStream()->expect(Twig_Token::BLOCK_END_TYPE); } public function getTag() { return 'extends'; } }