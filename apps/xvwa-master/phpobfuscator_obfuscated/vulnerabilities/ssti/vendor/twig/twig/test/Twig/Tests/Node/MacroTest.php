<?php
class Twig_Tests_Node_MacroTest extends Twig_Test_NodeTestCase { public function testConstructor() { $sp1965de = new Twig_Node_Text('foo', 1); $spc5cc06 = new Twig_Node(array(new Twig_Node_Expression_Name('foo', 1)), array(), 1); $spcefb62 = new Twig_Node_Macro('foo', $sp1965de, $spc5cc06, 1); $this->assertEquals($sp1965de, $spcefb62->getNode('body')); $this->assertEquals($spc5cc06, $spcefb62->getNode('arguments')); $this->assertEquals('foo', $spcefb62->getAttribute('name')); } public function getTests() { $sp1965de = new Twig_Node_Text('foo', 1); $spc5cc06 = new Twig_Node(array('foo' => new Twig_Node_Expression_Constant(null, 1), 'bar' => new Twig_Node_Expression_Constant('Foo', 1)), array(), 1); $spcefb62 = new Twig_Node_Macro('foo', $sp1965de, $spc5cc06, 1); if (PHP_VERSION_ID >= 50600) { $sp6f6655 = ', ...$__varargs__'; $sp93b4c6 = '$__varargs__'; } else { $sp6f6655 = ''; $sp93b4c6 = 'func_num_args() > 2 ? array_slice(func_get_args(), 2) : array()'; } return array(array($spcefb62, "// line 1\npublic function getfoo(\$__foo__ = null, \$__bar__ = \"Foo\"{$sp6f6655})\n{\n    \$context = \$this->env->mergeGlobals(array(\n        \"foo\" => \$__foo__,\n        \"bar\" => \$__bar__,\n        \"varargs\" => {$sp93b4c6},\n    ));\n\n    \$blocks = array();\n\n    ob_start();\n    try {\n        echo \"foo\";\n    } catch (Exception \$e) {\n        ob_end_clean();\n\n        throw \$e;\n    }\n\n    return ('' === \$tmp = ob_get_clean()) ? '' : new Twig_Markup(\$tmp, \$this->env->getCharset());\n}")); } }